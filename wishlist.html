<!DOCTYPE html>
<html lang="en" data-bs-theme="light">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="Anil z" name="author">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description"
        content="Shopwise is Powerful features and You Can Use The Perfect Build this Template For Any eCommerce Website. The template is built for sell Fashion Products, Shoes, Bags, Cosmetics, Clothes, Sunglasses, Furniture, Kids Products, Electronics, Stationery Products and Sporting Goods.">
    <meta name="keywords"
        content="ecommerce, electronics store, Fashion store, furniture store, bootstrap 4, clean, minimal, modern, online store, responsive, retail, shopping, ecommerce store">

    <title>Apple Shop - eCommerce</title>
    <link rel="shortcut icon" type="image/x-icon" href="assets/images/favicon.png">

    <link rel="stylesheet" href="assets/css/animate.css">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700,800,900&display=swap"
        rel="stylesheet">

    <!-- Icon Font CSS -->
    <link rel="stylesheet" href="assets/css/all.min.css">
    <link rel="stylesheet" href="assets/css/ionicons.min.css">
    <link rel="stylesheet" href="assets/css/themify-icons.css">
    <link rel="stylesheet" href="assets/css/linearicons.css">
    <link rel="stylesheet" href="assets/css/flaticon.css">
    <link rel="stylesheet" href="assets/css/simple-line-icons.css">

    <link rel="stylesheet" href="assets/css/magnific-popup.css">
    <link rel="stylesheet" href="assets/css/slick.css">
    <link rel="stylesheet" href="assets/css/slick-theme.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/responsive.css">

    <script src="assets/js/jquery-3.6.0.min.js"></script>
    <script src="assets/js/axios.min.js"></script>
</head>

<body>

    <div class="preloader d-none">
        <div class="lds-ellipsis">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>

    <div>



        <!-- START SECTION BREADCRUMB -->
        <div class="breadcrumb_section bg_gray page-title-mini">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <div class="page-title">
                            <h1>Wish List</h1>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <ol class="breadcrumb justify-content-md-end">
                            <li class="breadcrumb-item"><a href="home.html">Home</a></li>
                            <li class="breadcrumb-item"><a href="#">This Page</a></li>
                        </ol>
                    </div>
                </div>
            </div><!-- END CONTAINER-->
        </div>



        <div class="mt-5">
            <div class="container my-5">
                <div id="byList" class="row">

                    <div class="col-lg-3 col-md-4 col-6">
                        <div class="product">
                            <div class="product_img">
                                <a href="#">
                                    <img src="https://images.unsplash.com/photo-1725714834412-7d7154ac4e4e?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxmZWF0dXJlZC1waG90b3MtZmVlZHwzfHx8ZW58MHx8fHx8"
                                        alt="product_img9">
                                </a>
                                <div class="product_action_box">
                                    <ul class="list_none pr_action_btn">
                                        <li><a href="/details?id=${item['product']['id']}" class="popup-ajax"><i
                                                    class="icon-magnifier-add"></i></a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="product_info">
                                <h6 class="product_title"><a
                                        href="/details?id=${item['product']['id']}">${item['product']['title']}</a></h6>
                                <div class="product_price">
                                    <span class="price">$ ${item['product']['price']}</span>
                                </div>
                                <div class="rating_wrap">
                                    <div class="rating">
                                        <div class="product_rate" style="width:89%"></div>
                                    </div>
                                </div>
                                <button class="btn remove btn-sm my-2 btn-danger"
                                    data-id="${item['product']['id']}">Remove</button>

                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>




    </div>



    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Retrieve wishlist items from localStorage
            let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];

            // Get the container where the wishlist items will be displayed
            let wishlistContainer = document.getElementById('byList');

            // Clear any existing content in the container
            wishlistContainer.innerHTML = '';

            // Check if there are items in the wishlist
            if (wishlist.length === 0) {
                wishlistContainer.innerHTML = '<p>Your wishlist is empty.</p>';
                return;
            }

            // Loop through each item in the wishlist and create the HTML structure
            wishlist.forEach((item, index) => {
                let wishlistItemHTML = `
            <div class="col-lg-3 col-md-4 col-6">
                <div class="product">
                    <div class="product_img">
                        <a href="#">
                            <img src="${item.product.img}" alt="product_img${index}">
                        </a>
                        <div class="product_action_box">
                            <ul class="list_none pr_action_btn">
                                <li><a href="#"><i class="icon-magnifier-add"></i></a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="product_info">
                        <h6 class="product_title"><a href="#">${item.product.title}</a></h6>
                        <div class="product_price">
                            <span class="price">$ ${item.product.price}</span>
                        </div>
                        <button class="btn remove btn-sm my-2 btn-danger" data-index="${index}">Remove</button>
                    </div>
                </div>
            </div>
        `;
                wishlistContainer.innerHTML += wishlistItemHTML;
            });

            // Add event listeners to remove buttons
            document.querySelectorAll('.remove').forEach(button => {
                button.addEventListener('click', function () {
                    let index = this.getAttribute('data-index');
                    // Remove the item from the wishlist
                    wishlist.splice(index, 1);
                    // Save the updated wishlist to localStorage
                    localStorage.setItem('wishlist', JSON.stringify(wishlist));
                    // Reload the page to update the wishlist
                    location.reload();
                });
            });
        });

    </script>

    <script src="assets/js/scripts.js"></script>
    <script src="assets/js/magnific-popup.min.js"></script>
    <script src="assets/js/popper.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
</body>

</html>